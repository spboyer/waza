version: '3.8'

services:
  waza:
    build: .
    ports:
      - "8000:8000"
    volumes:
      # Mount local eval storage for persistence
      - ~/.waza:/root/.waza
    environment:
      # Optional: Set GitHub OAuth credentials
      - GITHUB_CLIENT_ID=${GITHUB_CLIENT_ID:-}
      - GITHUB_CLIENT_SECRET=${GITHUB_CLIENT_SECRET:-}
      - GITHUB_REDIRECT_URI=${GITHUB_REDIRECT_URI:-http://localhost:8000/api/auth/callback}
    restart: unless-stopped
