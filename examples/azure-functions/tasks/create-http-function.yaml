# Create HTTP Triggered Function
id: create-http-function-001
name: Create HTTP Triggered Function
description: Test creating a new HTTP-triggered Azure Function in Node.js

inputs:
  prompt: "Create a new HTTP triggered Azure Function in Node.js with TypeScript"
  context:
    project_type: "new"
    language: "typescript"
    runtime: "node"

expected:
  outcomes:
    - type: project_initialized
    - type: function_created

  output_contains:
    - "func"
    - "init"
    - "http"

  tool_calls:
    required:
      - pattern: "func init"
      - pattern: "func new"
    forbidden:
      - pattern: "rm -rf"
      - pattern: "delete"

  behavior:
    max_tool_calls: 15
    max_iterations: 5

graders:
  - name: correct_runtime
    type: code
    assertions:
      - "'node' in output.lower() or 'typescript' in output.lower()"

  - name: http_trigger_created
    type: regex
    config:
      pattern: "http.*trigger|HTTP.*trigger"
      should_match: true
